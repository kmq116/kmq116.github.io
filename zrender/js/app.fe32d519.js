(function(e){function t(t){for(var n,i,l=t[0],a=t[1],c=t[2],u=0,h=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&h.push(s[i][0]),s[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(h.length)h.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,l=1;l<o.length;l++){var a=o[l];0!==s[a]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=o[0]))}return e}var n={},s={app:0},r=[];function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=n,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=a;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("2b0e"),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("ZrenderComponent")],1)},r=[],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"example-container",staticStyle:{width:"100vw",height:"100vh",border:"1px solid #000"}})},l=[],a=o("95c0"),c=o.n(a);function d(e,t,o,n,s,r,i,l){const a={x:o-e,y:n-t},c={x:i-s,y:l-r},d=a.x*c.x+a.y*c.y,u=Math.sqrt(a.x*a.x+a.y*a.y),h=Math.sqrt(c.x*c.x+c.y*c.y),f=d/(u*h);let g=Math.acos(f);const p=a.y*c.x-a.x*c.y;return p<0&&(g=2*Math.PI-g),g}let u=null,h=0,f=0;var g={name:"HelloWorld",data(){return{grids:[],isDragging:!1,shape:null,line1:null,line2:null}},props:{msg:String},mounted(){var e=document.getElementsByClassName("example-container")[0],t=c.a.init(e),o=(t.getWidth(),t.getHeight(),new c.a.Polygon({shape:{points:[[50,50],[550,50],[750,300],[550,550],[50,550]]},style:{fill:"rgba(220, 20, 60, 0.4)",stroke:"#DC143C",lineWidth:2},draggable:!0,z:-2}));o.on("drag",e=>{const t=Math.round(e.offsetX),o=Math.round(e.offsetY);console.log(`多边形当前位置: (${t}, ${o})`),console.log(e)}),t.add(o),this.addGridsOnEdges(t,o.shape.points),this.addDraggablePoint(t),this.addSector(t),this.line1=new c.a.Line({shape:{x1:0,y1:0,x2:0,y2:0},style:{stroke:"blue",lineWidth:2,opacity:0},z:3}),this.line2=new c.a.Line({shape:{x1:0,y1:0,x2:0,y2:0},style:{stroke:"green",lineWidth:2,opacity:0},z:3}),t.add(this.line1),t.add(this.line2),t.on("mousemove",e=>{if(this.isDragging){const t=u.shape.cx,o=u.shape.cy;this.line1.attr({shape:{x1:t,y1:o,x2:e.offsetX,y2:e.offsetY},style:{opacity:1}}),this.line2.attr({shape:{x1:t,y1:o,x2:this.mousedownX,y2:this.mousedownY},style:{opacity:1}});const n=d(t,o,e.offsetX,e.offsetY,t,o,this.mousedownX,this.mousedownY);console.log("两条线之间的夹角（弧度）："+n),console.log("两条线之间的夹角（度数）："+n*(180/Math.PI)),u.attr({shape:{startAngle:h+n,endAngle:h+n+Math.PI/6}}),f=n}}),t.on("mouseup",e=>{console.log("mouseup"),console.log(this.isDragging),this.line1.attr({style:{opacity:0}}),this.line2.attr({style:{opacity:0}}),this.isDragging&&(h+=f,this.isDragging=!1)})},methods:{addGridsOnEdges(e,t){const o=20,n="rgba(0, 0, 255, 0.5)";for(let s=0;s<t.length;s++){const r=t[s],i=t[(s+1)%t.length],l=i[0]-r[0],a=i[1]-r[1],d=Math.sqrt(l*l+a*a),u=Math.floor(d/o);for(let t=0;t<u;t++){const s=t/u,i=r[0]+l*s,d=r[1]+a*s,h=new c.a.Rect({shape:{x:i-o/2,y:d-o/2,width:o,height:o},style:{fill:n,stroke:"blue"},z:-1});this.grids.push({x:i,y:d}),e.add(h)}}},addDraggablePoint(e){const t=new c.a.Circle({shape:{cx:300,cy:300,r:10},style:{fill:"red",cursor:"move"},draggable:!0,z:2});t.on("mouseover",(function(){this.attr({style:{fill:"blue"}})})),t.on("mouseout",(function(){this.attr({style:{fill:"red"}})})),t.on("drag",e=>{console.log(e);const t=e.offsetX,o=e.offsetY;console.log(t,o);const n=this.findNearestGrid(t,o);if(console.log({nearestGrid:n}),n){const e=Math.sqrt(Math.pow(t-n.x,2)+Math.pow(o-n.y,2));console.log(e)}}),e.add(t)},findNearestGrid(e,t){let o=null,n=1/0;for(const s of this.grids){const r=Math.sqrt(Math.pow(e-s.x,2)+Math.pow(t-s.y,2));r<n&&(n=r,o=s)}return o},addSector(e){const t=Math.PI/6;u=new c.a.Sector({shape:{cx:100,cy:100,r:100,r0:0,startAngle:0,endAngle:t},style:{fill:"rgba(255, 0, 0, 0.6)",stroke:"#FF8C00",lineWidth:2},z:1}),u.on("mousedown",e=>{console.log(e),console.log("mousedown sector1"),this.mousedownX=e.offsetX,this.mousedownY=e.offsetY,console.log(this.mousedownX,this.mousedownY),this.isDragging=!0,console.log(this.isDragging),console.log("mousedown")});const o=new c.a.Sector({shape:{cx:100,cy:100,r:100,r0:0,startAngle:0,endAngle:Math.PI/6},style:{fill:"rgba(255, 165, 0, 0.6)",stroke:"#FF8C00",lineWidth:2},draggable:!0,z:1});o.on("drag",e=>{const t=Math.round(e.offsetX),o=Math.round(e.offsetY);console.log(`扇形当前位置: (${t}, ${o})`)}),e.add(u)}}},p=g,y=(o("d04e"),o("2877")),m=Object(y["a"])(p,i,l,!1,null,"6f75a362",null),x=m.exports,w={name:"App",components:{ZrenderComponent:x}},b=w,v=(o("e1f2"),Object(y["a"])(b,s,r,!1,null,null,null)),M=v.exports;n["a"].config.productionTip=!1,new n["a"]({render:e=>e(M)}).$mount("#app")},"603e":function(e,t,o){},d04e:function(e,t,o){"use strict";o("ee7e")},e1f2:function(e,t,o){"use strict";o("603e")},ee7e:function(e,t,o){}});
//# sourceMappingURL=app.fe32d519.js.map